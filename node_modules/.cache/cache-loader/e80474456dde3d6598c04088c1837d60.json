{"remainingRequest":"/Users/zhen/Documents/doc-zhen/kuihua-ebook-new/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/zhen/Documents/doc-zhen/kuihua-ebook-new/node_modules/@docusaurus/theme-classic/src/theme/hooks/useTOCHighlight.js","dependencies":[{"path":"/Users/zhen/Documents/doc-zhen/kuihua-ebook-new/node_modules/@docusaurus/theme-classic/src/theme/hooks/useTOCHighlight.js","mtime":1609137487685},{"path":"/Users/zhen/Documents/doc-zhen/kuihua-ebook-new/node_modules/cache-loader/dist/cjs.js","mtime":1609137482435},{"path":"/Users/zhen/Documents/doc-zhen/kuihua-ebook-new/node_modules/babel-loader/lib/index.js","mtime":1609137488105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLgogKgogKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGUKICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgogKi9pbXBvcnR7dXNlRWZmZWN0LHVzZVN0YXRlfWZyb20ncmVhY3QnO2Z1bmN0aW9uIHVzZVRPQ0hpZ2hsaWdodChsaW5rQ2xhc3NOYW1lLGxpbmtBY3RpdmVDbGFzc05hbWUsdG9wT2Zmc2V0KXtjb25zdFtsYXN0QWN0aXZlTGluayxzZXRMYXN0QWN0aXZlTGlua109dXNlU3RhdGUodW5kZWZpbmVkKTt1c2VFZmZlY3QoKCk9PntsZXQgaGVhZGVyc0FuY2hvcnM9W107bGV0IGxpbmtzPVtdO2Z1bmN0aW9uIHNldEFjdGl2ZUxpbmsoKXtmdW5jdGlvbiBnZXRBY3RpdmVIZWFkZXJBbmNob3IoKXtsZXQgaW5kZXg9MDtsZXQgYWN0aXZlSGVhZGVyQW5jaG9yPW51bGw7aGVhZGVyc0FuY2hvcnM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYW5jaG9yJyk7d2hpbGUoaW5kZXg8aGVhZGVyc0FuY2hvcnMubGVuZ3RoJiYhYWN0aXZlSGVhZGVyQW5jaG9yKXtjb25zdCBoZWFkZXJBbmNob3I9aGVhZGVyc0FuY2hvcnNbaW5kZXhdO2NvbnN0e3RvcH09aGVhZGVyQW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKHRvcD49MCYmdG9wPD10b3BPZmZzZXQpe2FjdGl2ZUhlYWRlckFuY2hvcj1oZWFkZXJBbmNob3I7fWluZGV4Kz0xO31yZXR1cm4gYWN0aXZlSGVhZGVyQW5jaG9yO31jb25zdCBhY3RpdmVIZWFkZXJBbmNob3I9Z2V0QWN0aXZlSGVhZGVyQW5jaG9yKCk7aWYoYWN0aXZlSGVhZGVyQW5jaG9yKXtsZXQgaW5kZXg9MDtsZXQgaXRlbUhpZ2hsaWdodGVkPWZhbHNlO2xpbmtzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobGlua0NsYXNzTmFtZSk7d2hpbGUoaW5kZXg8bGlua3MubGVuZ3RoJiYhaXRlbUhpZ2hsaWdodGVkKXtjb25zdCBsaW5rPWxpbmtzW2luZGV4XTtjb25zdHtocmVmfT1saW5rO2NvbnN0IGFuY2hvclZhbHVlPWRlY29kZVVSSUNvbXBvbmVudChocmVmLnN1YnN0cmluZyhocmVmLmluZGV4T2YoJyMnKSsxKSk7aWYoYWN0aXZlSGVhZGVyQW5jaG9yLmlkPT09YW5jaG9yVmFsdWUpe2lmKGxhc3RBY3RpdmVMaW5rKXtsYXN0QWN0aXZlTGluay5jbGFzc0xpc3QucmVtb3ZlKGxpbmtBY3RpdmVDbGFzc05hbWUpO31saW5rLmNsYXNzTGlzdC5hZGQobGlua0FjdGl2ZUNsYXNzTmFtZSk7c2V0TGFzdEFjdGl2ZUxpbmsobGluayk7aXRlbUhpZ2hsaWdodGVkPXRydWU7fWluZGV4Kz0xO319fWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsc2V0QWN0aXZlTGluayk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJyxzZXRBY3RpdmVMaW5rKTtzZXRBY3RpdmVMaW5rKCk7cmV0dXJuKCk9Pntkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLHNldEFjdGl2ZUxpbmspO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsc2V0QWN0aXZlTGluayk7fTt9KTt9ZXhwb3J0IGRlZmF1bHQgdXNlVE9DSGlnaGxpZ2h0Ow=="},{"version":3,"sources":["/Users/zhen/Documents/doc-zhen/kuihua-ebook-new/node_modules/@docusaurus/theme-classic/src/theme/hooks/useTOCHighlight.js"],"names":["useEffect","useState","useTOCHighlight","linkClassName","linkActiveClassName","topOffset","lastActiveLink","setLastActiveLink","undefined","headersAnchors","links","setActiveLink","getActiveHeaderAnchor","index","activeHeaderAnchor","document","getElementsByClassName","length","headerAnchor","top","getBoundingClientRect","itemHighlighted","link","href","anchorValue","decodeURIComponent","substring","indexOf","id","classList","remove","add","addEventListener","removeEventListener"],"mappings":"AAAA;;;;;GAOA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CAEA,QAASC,CAAAA,eAAT,CAAyBC,aAAzB,CAAwCC,mBAAxC,CAA6DC,SAA7D,CAAwE,CACtE,KAAM,CAACC,cAAD,CAAiBC,iBAAjB,EAAsCN,QAAQ,CAACO,SAAD,CAApD,CAEAR,SAAS,CAAC,IAAM,CACd,GAAIS,CAAAA,cAAc,CAAG,EAArB,CACA,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CAEA,QAASC,CAAAA,aAAT,EAAyB,CACvB,QAASC,CAAAA,qBAAT,EAAiC,CAC/B,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAIC,CAAAA,kBAAkB,CAAG,IAAzB,CAEAL,cAAc,CAAGM,QAAQ,CAACC,sBAAT,CAAgC,QAAhC,CAAjB,CACA,MAAOH,KAAK,CAAGJ,cAAc,CAACQ,MAAvB,EAAiC,CAACH,kBAAzC,CAA6D,CAC3D,KAAMI,CAAAA,YAAY,CAAGT,cAAc,CAACI,KAAD,CAAnC,CACA,KAAM,CAACM,GAAD,EAAQD,YAAY,CAACE,qBAAb,EAAd,CAEA,GAAID,GAAG,EAAI,CAAP,EAAYA,GAAG,EAAId,SAAvB,CAAkC,CAChCS,kBAAkB,CAAGI,YAArB,CACD,CAEDL,KAAK,EAAI,CAAT,CACD,CAED,MAAOC,CAAAA,kBAAP,CACD,CAED,KAAMA,CAAAA,kBAAkB,CAAGF,qBAAqB,EAAhD,CAEA,GAAIE,kBAAJ,CAAwB,CACtB,GAAID,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAIQ,CAAAA,eAAe,CAAG,KAAtB,CAEAX,KAAK,CAAGK,QAAQ,CAACC,sBAAT,CAAgCb,aAAhC,CAAR,CACA,MAAOU,KAAK,CAAGH,KAAK,CAACO,MAAd,EAAwB,CAACI,eAAhC,CAAiD,CAC/C,KAAMC,CAAAA,IAAI,CAAGZ,KAAK,CAACG,KAAD,CAAlB,CACA,KAAM,CAACU,IAAD,EAASD,IAAf,CACA,KAAME,CAAAA,WAAW,CAAGC,kBAAkB,CACpCF,IAAI,CAACG,SAAL,CAAeH,IAAI,CAACI,OAAL,CAAa,GAAb,EAAoB,CAAnC,CADoC,CAAtC,CAIA,GAAIb,kBAAkB,CAACc,EAAnB,GAA0BJ,WAA9B,CAA2C,CACzC,GAAIlB,cAAJ,CAAoB,CAClBA,cAAc,CAACuB,SAAf,CAAyBC,MAAzB,CAAgC1B,mBAAhC,EACD,CACDkB,IAAI,CAACO,SAAL,CAAeE,GAAf,CAAmB3B,mBAAnB,EACAG,iBAAiB,CAACe,IAAD,CAAjB,CACAD,eAAe,CAAG,IAAlB,CACD,CAEDR,KAAK,EAAI,CAAT,CACD,CACF,CACF,CAEDE,QAAQ,CAACiB,gBAAT,CAA0B,QAA1B,CAAoCrB,aAApC,EACAI,QAAQ,CAACiB,gBAAT,CAA0B,QAA1B,CAAoCrB,aAApC,EAEAA,aAAa,GAEb,MAAO,IAAM,CACXI,QAAQ,CAACkB,mBAAT,CAA6B,QAA7B,CAAuCtB,aAAvC,EACAI,QAAQ,CAACkB,mBAAT,CAA6B,QAA7B,CAAuCtB,aAAvC,EACD,CAHD,CAID,CA7DQ,CAAT,CA8DD,CAED,cAAeT,CAAAA,eAAf","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {useEffect, useState} from 'react';\n\nfunction useTOCHighlight(linkClassName, linkActiveClassName, topOffset) {\n  const [lastActiveLink, setLastActiveLink] = useState(undefined);\n\n  useEffect(() => {\n    let headersAnchors = [];\n    let links = [];\n\n    function setActiveLink() {\n      function getActiveHeaderAnchor() {\n        let index = 0;\n        let activeHeaderAnchor = null;\n\n        headersAnchors = document.getElementsByClassName('anchor');\n        while (index < headersAnchors.length && !activeHeaderAnchor) {\n          const headerAnchor = headersAnchors[index];\n          const {top} = headerAnchor.getBoundingClientRect();\n\n          if (top >= 0 && top <= topOffset) {\n            activeHeaderAnchor = headerAnchor;\n          }\n\n          index += 1;\n        }\n\n        return activeHeaderAnchor;\n      }\n\n      const activeHeaderAnchor = getActiveHeaderAnchor();\n\n      if (activeHeaderAnchor) {\n        let index = 0;\n        let itemHighlighted = false;\n\n        links = document.getElementsByClassName(linkClassName);\n        while (index < links.length && !itemHighlighted) {\n          const link = links[index];\n          const {href} = link;\n          const anchorValue = decodeURIComponent(\n            href.substring(href.indexOf('#') + 1),\n          );\n\n          if (activeHeaderAnchor.id === anchorValue) {\n            if (lastActiveLink) {\n              lastActiveLink.classList.remove(linkActiveClassName);\n            }\n            link.classList.add(linkActiveClassName);\n            setLastActiveLink(link);\n            itemHighlighted = true;\n          }\n\n          index += 1;\n        }\n      }\n    }\n\n    document.addEventListener('scroll', setActiveLink);\n    document.addEventListener('resize', setActiveLink);\n\n    setActiveLink();\n\n    return () => {\n      document.removeEventListener('scroll', setActiveLink);\n      document.removeEventListener('resize', setActiveLink);\n    };\n  });\n}\n\nexport default useTOCHighlight;\n"]}]}