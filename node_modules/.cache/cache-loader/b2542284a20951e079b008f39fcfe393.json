{"remainingRequest":"/Users/zhen/Documents/doc-zhen/docs-rancher2/node_modules/babel-loader/lib/index.js??ref--7-1!/Users/zhen/Documents/doc-zhen/docs-rancher2/node_modules/@docusaurus/mdx-loader/src/index.js??ref--7-2!/Users/zhen/Documents/doc-zhen/docs-rancher2/node_modules/@docusaurus/plugin-content-docs/lib/markdown/index.js??ref--7-3!/Users/zhen/Documents/doc-zhen/docs-rancher2/docs/rancher2/cluster-admin/replace-ca/_index.md","dependencies":[{"path":"/Users/zhen/Documents/doc-zhen/docs-rancher2/docs/rancher2/cluster-admin/replace-ca/_index.md","mtime":1609136687479},{"path":"/Users/zhen/Documents/doc-zhen/docs-rancher2/.docusaurus/docusaurus-plugin-content-docs/site-docs-rancher-2-cluster-admin-replace-ca-index-md-fca.json","mtime":1609137358539},{"path":"/Users/zhen/Documents/doc-zhen/docs-rancher2/node_modules/cache-loader/dist/cjs.js","mtime":1609137261764},{"path":"/Users/zhen/Documents/doc-zhen/docs-rancher2/node_modules/babel-loader/lib/index.js","mtime":1609137261731},{"path":"/Users/zhen/Documents/doc-zhen/docs-rancher2/node_modules/@docusaurus/mdx-loader/src/index.js","mtime":1609137299637},{"path":"/Users/zhen/Documents/doc-zhen/docs-rancher2/node_modules/@docusaurus/plugin-content-docs/lib/markdown/index.js","mtime":1609137298520}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9leHRlbmRzIGZyb20iL1VzZXJzL3poZW4vRG9jdW1lbnRzL2RvYy16aGVuL2RvY3MtcmFuY2hlcjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMiO2ltcG9ydCBSZWFjdCBmcm9tJ3JlYWN0JztpbXBvcnR7bWR4fWZyb20nQG1keC1qcy9yZWFjdCc7ZXhwb3J0IGNvbnN0IGZyb250TWF0dGVyPXt0aXRsZTonSW1wb3J0IOmbhue+pOabtOaWsCBDQSDor4HkuablkI4gUmFuY2hlciDnq6/miYDpnIDmk43kvZzphY3nva4nLGRlc2NyaXB0aW9uOm51bGwsa2V5d29yZHM6WydyYW5jaGVyIDIuMOS4reaWh+aWh+ahoycsJ3JhbmNoZXIgMi54IOS4reaWh+aWh+ahoycsJ3JhbmNoZXLkuK3mlocnLCdyYW5jaGVyIDIuMOS4reaWhycsJ3JhbmNoZXIyJywncmFuY2hlcuaVmeeoiycsJ3JhbmNoZXLkuK3lm70nLCdyYW5jaGVyIDIuMCcsJ3JhbmNoZXIyLjAg5Lit5paH5pWZ56iLJywn6ZuG576k566h55CG5ZGY5oyH5Y2XJywn6ZuG576k6K6/6Zeu5o6n5Yi2JywnSW1wb3J06ZuG576k5pu05pawY2Hor4HkuablkI5SYW5jaGVy56uv5omA6ZyA5pON5L2c6YWN572uJ119O2V4cG9ydCBjb25zdCBtZXRhZGF0YT17ImlkIjoicmFuY2hlcjIvY2x1c3Rlci1hZG1pbi9yZXBsYWNlLWNhL19pbmRleCIsInRpdGxlIjoiSW1wb3J0IOmbhue+pOabtOaWsCBDQSDor4HkuablkI4gUmFuY2hlciDnq6/miYDpnIDmk43kvZzphY3nva4iLCJkZXNjcmlwdGlvbiI6IiMjIDEuIFJhbmNoZXIg55u45YWz5aSH5Lu95pON5L2cIiwic291cmNlIjoiQHNpdGUvZG9jcy9yYW5jaGVyMi9jbHVzdGVyLWFkbWluL3JlcGxhY2UtY2EvX2luZGV4Lm1kIiwicGVybWFsaW5rIjoiL2RvY3MvcmFuY2hlcjIvY2x1c3Rlci1hZG1pbi9yZXBsYWNlLWNhL19pbmRleCIsImVkaXRVcmwiOiJodHRwczovL2dpdGh1Yi5jb20vY25yYW5jaGVyL2RvY3MtcmFuY2hlcjIvZWRpdC9tYXN0ZXIvZG9jcy9yYW5jaGVyMi9jbHVzdGVyLWFkbWluL3JlcGxhY2UtY2EvX2luZGV4Lm1kIiwibGFzdFVwZGF0ZWRCeSI6IkF1dGhvciIsImxhc3RVcGRhdGVkQXQiOjE1Mzk1MDIwNTUsInNpZGViYXIiOiJyYW5jaGVyMiIsInByZXZpb3VzIjp7InRpdGxlIjoi5oGi5aSNIHJrZXN0YXRlIOeKtuaAgeaWh+S7tiIsInBlcm1hbGluayI6Ii9kb2NzL3JhbmNoZXIyL2NsdXN0ZXItYWRtaW4vcmVzdG9yZS1ya2VzdGF0ZS9faW5kZXgifSwibmV4dCI6eyJ0aXRsZSI6IuWNleiKgueCuei/geenu+iHsyBSS0UgSEEiLCJwZXJtYWxpbmsiOiIvZG9jcy9yYW5jaGVyMi9jbHVzdGVyLWFkbWluL3NpbmdsZS10by1oYS9faW5kZXgifX07LyogQGpzeCBtZHggKi9leHBvcnQgY29uc3QgcmlnaHRUb2M9W3t2YWx1ZTonMS4gUmFuY2hlciDnm7jlhbPlpIfku73mk43kvZwnLGlkOicxLXJhbmNoZXIt55u45YWz5aSH5Lu95pON5L2cJyxjaGlsZHJlbjpbe3ZhbHVlOicxLjEuIOWNleWuueWZqOmDqOe9suWkh+S7vScsaWQ6JzExLeWNleWuueWZqOmDqOe9suWkh+S7vScsY2hpbGRyZW46W119LHt2YWx1ZTonMS4yLiBIQSDpg6jnvbLlpIfku70nLGlkOicxMi1oYS3pg6jnvbLlpIfku70nLGNoaWxkcmVuOltdfV19LHt2YWx1ZTonMi4g5pON5L2c5q2l6aqkJyxpZDonMi3mk43kvZzmraXpqqQnLGNoaWxkcmVuOlt7dmFsdWU6JzIuMS4g5Yig6Zmk5Lia5Yqh6ZuG576kPGNvZGU+Y2F0dGxlLXN5c3RlbTwvY29kZT7lkb3lkI3nqbrpl7TkuK3nmoQ8Y29kZT5jYXR0bGUtdG9rZW4teHh4PC9jb2RlPicsaWQ6JzIxLeWIoOmZpOS4muWKoembhue+pGNhdHRsZS1zeXN0ZW3lkb3lkI3nqbrpl7TkuK3nmoRjYXR0bGUtdG9rZW4teHh4JyxjaGlsZHJlbjpbXX0se3ZhbHVlOicyLjIuIOmHjeW7uiBBZ2VudCBQb2QnLGlkOicyMi3ph43lu7otYWdlbnQtcG9kJyxjaGlsZHJlbjpbXX0se3ZhbHVlOicyLjMuIOiOt+WPljxjb2RlPnRva2VuPC9jb2RlPicsaWQ6JzIzLeiOt+WPlnRva2VuJyxjaGlsZHJlbjpbXX0se3ZhbHVlOicyLjQuIOiOt+WPluaWsOeahCBDQSDor4HkuaYnLGlkOicyNC3ojrflj5bmlrDnmoQtY2Et6K+B5LmmJyxjaGlsZHJlbjpbXX0se3ZhbHVlOicyLjUuIOWcqCBsb2NhbCDpm4bnvqTkuK3mo4Dmn6XkuJrliqHpm4bnvqTnmoQgY2x1c3RlcnMgY3JkIOi1hOa6kOaYr+WQpuacieabtOaWsCcsaWQ6JzI1LeWcqC1sb2NhbC3pm4bnvqTkuK3mo4Dmn6XkuJrliqHpm4bnvqTnmoQtY2x1c3RlcnMtY3JkLei1hOa6kOaYr+WQpuacieabtOaWsCcsY2hpbGRyZW46W119XX0se3ZhbHVlOiczLiDlt7Lnn6Xpl67popgnLGlkOiczLeW3suefpemXrumimCcsY2hpbGRyZW46W119XTtjb25zdCBtYWtlU2hvcnRjb2RlPW5hbWU9PmZ1bmN0aW9uIE1EWERlZmF1bHRTaG9ydGNvZGUocHJvcHMpe2NvbnNvbGUud2FybigiQ29tcG9uZW50ICIrbmFtZSsiIHdhcyBub3QgaW1wb3J0ZWQsIGV4cG9ydGVkLCBvciBwcm92aWRlZCBieSBNRFhQcm92aWRlciBhcyBnbG9iYWwgc2NvcGUiKTtyZXR1cm4gbWR4KCJkaXYiLHByb3BzKTt9O2NvbnN0IGxheW91dFByb3BzPXtyaWdodFRvY307Y29uc3QgTURYTGF5b3V0PSJ3cmFwcGVyIjtleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNRFhDb250ZW50KHtjb21wb25lbnRzLC4uLnByb3BzfSl7cmV0dXJuIG1keChNRFhMYXlvdXQsX2V4dGVuZHMoe30sbGF5b3V0UHJvcHMscHJvcHMse2NvbXBvbmVudHM6Y29tcG9uZW50cyxtZHhUeXBlOiJNRFhMYXlvdXQifSksbWR4KCJoMiIseyJpZCI6IjEtcmFuY2hlci3nm7jlhbPlpIfku73mk43kvZwifSxgMS4gUmFuY2hlciDnm7jlhbPlpIfku73mk43kvZxgKSxtZHgoImgzIix7ImlkIjoiMTEt5Y2V5a655Zmo6YOo572y5aSH5Lu9In0sYDEuMS4g5Y2V5a655Zmo6YOo572y5aSH5Lu9YCksbWR4KCJwIixudWxsLGDlpoLmnpzlnKhgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgZG9ja2VyIHJ1bmApLGDpg6jnvbIgUmFuY2hlciDml7bvvIzmnInpgJrov4dgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgLXZgKSxg5oqK5a655Zmo5LitYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYC92YXIvbGliL3JhbmNoZXJgKSxg55uu5b2V5pig5bCE5Yiw5Li75py65LiK77yM6YKj5LmI5q2k5q2l6aqk5Y+v5Lul6Lez6L+H77ybYCksbWR4KCJwIixudWxsLGDlpoLmnpzmsqHmnInmmKDlsITnm67lvZXvvIzpgqPkuYjpnIDopoHmiafooYzku6XkuIvmraXpqqTov5vooYzlpIfku73vvJpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWJhc2gifSksYFJBTkNIRVJfQ09OVEFJTkVSX0lEPQpkb2NrZXIgZXhlYyAtdGkgXCR7UkFOQ0hFUl9DT05UQUlORVJfSUR9IHRhciB6Y3ZmIC90bXAvcmFuY2hlci1kYXRhLWJhY2t1cC08UkFOQ0hFUl9WRVJTSU9OPi08REFURT4udGFyLmd6IC92YXIvbGliL3JhbmNoZXIKZG9ja2VyIGNwIFwke1JBTkNIRVJfQ09OVEFJTkVSX0lEfTovdG1wL3JhbmNoZXItZGF0YS1iYWNrdXAtPFJBTkNIRVJfVkVSU0lPTj4tPERBVEU+LnRhci5neiAuCmApKSxtZHgoImgzIix7ImlkIjoiMTItaGEt6YOo572y5aSH5Lu9In0sYDEuMi4gSEEg6YOo572y5aSH5Lu9YCksbWR4KCJwIixudWxsLGDmjIflrpogcmtlIOmFjee9ruaWh+S7tui/m+ihjCBsb2NhbCDpm4bnvqTlpIfku73vvJpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWJhc2gifSksYC4vcmtlX2xpbnV4LWFtZDY0IGV0Y2Qgc25hcHNob3Qtc2F2ZSAtLW5hbWUgU05BUFNIT1QtMjAxOTAzeHguZGIgLS1jb25maWcgY2x1c3Rlci55bWwKYCkpLG1keCgicCIsbnVsbCxgUktFIOS8muiOt+WPluavj+S4quiKgueCuSBldGNkIOeahOW/q+eFp++8jOW5tuS/neWtmOWIsOavj+S4quiKgueCueeahGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGAvb3B0L3JrZS9ldGNkLXNuYXBzaG90c2ApLGDnm67lvZXkuIvjgIJgKSxtZHgoImgyIix7ImlkIjoiMi3mk43kvZzmraXpqqQifSxgMi4g5pON5L2c5q2l6aqkYCksbWR4KCJwIixudWxsLGDljYfnuqflrozkuJrliqHpm4bnvqTnmoTor4HkuabkuYvlkI7vvIxSYW5jaGVyIOS4rembhue+pOS8muaKpSB4NTA5IOmUmeivr++8jOmcgOimgeaJp+ihjOS7peS4i+atpemqpOS/ruWkjeOAgmApLG1keCgicCIsbnVsbCxg5paH5Lu25YeG5aSHOmApLG1keCgidWwiLG51bGwsbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToibGkifSxga3ViZWNvbmZpZ2ApLGA6IOabtOaWsOivgeS5puWQjueahOmbhue+pOi/nuaOpemFjee9ruaWh+S7tmApKSxtZHgoImgzIix7ImlkIjoiMjEt5Yig6Zmk5Lia5Yqh6ZuG576kY2F0dGxlLXN5c3RlbeWRveWQjeepuumXtOS4reeahGNhdHRsZS10b2tlbi14eHgifSxgMi4xLiDliKDpmaTkuJrliqHpm4bnvqRgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6ImgzIn0sYGNhdHRsZS1zeXN0ZW1gKSxg5ZG95ZCN56m66Ze05Lit55qEYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJoMyJ9LGBjYXR0bGUtdG9rZW4teHh4YCkpLG1keCgicCIsbnVsbCxg6YCa6L+H5Lul5LiL5ZG95Luk5Yig6ZmkYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGNhdHRsZS10b2tlbi14eHhgKSxg77yM5a6D5Lya5Z+65LqO5pyA5paw55qEIENBIOivgeS5pumHjeaWsOeUn+aIkGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBjYXR0bGUtdG9rZW4teHh4YCksYOOAgmApLG1keCgicHJlIixudWxsLG1keCgiY29kZSIsX2V4dGVuZHMoe3BhcmVudE5hbWU6InByZSJ9LHsiY2xhc3NOYW1lIjoibGFuZ3VhZ2UtYmFzaCJ9KSxga3ViZWNvbmZpZz14eHgueWFtbApjYXR0bGVfdG9rZW49JCgga3ViZWN0bCAtLWt1YmVjb25maWc9XCR7a3ViZWNvbmZpZ30gLW4gY2F0dGxlLXN5c3RlbSBnZXQgc2VjcmV0IHwgZ3JlcCAnY2F0dGxlLXRva2VuLScgfCBhd2sgJ3twcmludCAkMX0nICkKa3ViZWN0bCAtLWt1YmVjb25maWc9XCR7a3ViZWNvbmZpZ30gLW4gY2F0dGxlLXN5c3RlbSBkZWxldGUgc2VjcmV0IFwke2NhdHRsZV90b2tlbn0KYCkpLG1keCgiaDMiLHsiaWQiOiIyMi3ph43lu7otYWdlbnQtcG9kIn0sYDIuMi4g6YeN5bu6IEFnZW50IFBvZGApLG1keCgicCIsbnVsbCxg5Zug5Li6IEFnZW50IFBvZCDnu5HlrprkuoZgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgU0FgKSxg77yM6ICMIFNBIOe7keWumuS6hmAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBzZWNyZXRzYCksYO+8jOaJgOS7peW9k+WIoOmZpGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBjYXR0bGUtdG9rZW4teHh4YCksYOWQjumcgOmHjeW7uiBQb2TvvIzku6XliqDovb3mlrDnmoRgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgc2VjcmV0c2ApLGDjgIJgKSxtZHgoInAiLG51bGwsYOaJp+ihjOS7peS4i+WRveS7pOaJuemHj+WIoOmZpCBBZ2VudCBQb2TvvJpgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWJhc2gifSksYGt1YmVjb25maWc9eHh4LnlhbWwKa3ViZWN0bCAtLWt1YmVjb25maWc9XCR7a3ViZWNvbmZpZ30gLW4gY2F0dGxlLXN5c3RlbSBnZXQgcG9kIHwgZ3JlcCAtdiAnTkFNRScgfCBhd2sgJ3twcmludCAkMX0nIHwgeGFyZ3Mga3ViZWN0bCAtLWt1YmVjb25maWc9XCR7a3ViZWNvbmZpZ30gLW4gY2F0dGxlLXN5c3RlbSBkZWxldGUgcG9kCmApKSxtZHgoImgzIix7ImlkIjoiMjMt6I635Y+WdG9rZW4ifSxgMi4zLiDojrflj5ZgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6ImgzIn0sYHRva2VuYCkpLG1keCgicCIsbnVsbCxg6YeN5paw55Sf5oiQYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGNhdHRsZS10b2tlbi14eHhgKSxg5LmL5ZCO77yM5Y+W5YC8YCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHRva2VuYCksYOW5tmAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBiYXNlNjQgLWRgKSxg6Kej5a+G5ZCO5aSH55So44CCYCksbWR4KCJwcmUiLG51bGwsbWR4KCJjb2RlIixfZXh0ZW5kcyh7cGFyZW50TmFtZToicHJlIn0seyJjbGFzc05hbWUiOiJsYW5ndWFnZS1iYXNoIn0pLGBrdWJlY29uZmlnPXh4eC55YW1sCmNhdHRsZV90b2tlbj0kKCBrdWJlY3RsIC0ta3ViZWNvbmZpZz1cJHtrdWJlY29uZmlnfSAtbiBjYXR0bGUtc3lzdGVtIGdldCBzZWNyZXQgfCBncmVwICdjYXR0bGUtdG9rZW4tJyB8IGF3ayAne3ByaW50ICQxfScgKQprdWJlY3RsIC0ta3ViZWNvbmZpZz1cJHtrdWJlY29uZmlnfSAtbiBjYXR0bGUtc3lzdGVtIGdldCBzZWNyZXQgXCR7Y2F0dGxlX3Rva2VufSAtbyBqc29ucGF0aD17LmRhdGEudG9rZW59IHwgYmFzZTY0IC1kCmApKSxtZHgoImgzIix7ImlkIjoiMjQt6I635Y+W5paw55qELWNhLeivgeS5piJ9LGAyLjQuIOiOt+WPluaWsOeahCBDQSDor4HkuaZgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWJhc2gifSksYGt1YmVjb25maWc9eHh4LnlhbWwKY2F0dGxlX3Rva2VuPSQoIGt1YmVjdGwgLS1rdWJlY29uZmlnPVwke2t1YmVjb25maWd9IC1uIGNhdHRsZS1zeXN0ZW0gZ2V0IHNlY3JldCB8IGdyZXAgJ2NhdHRsZS10b2tlbi0nIHwgYXdrICd7cHJpbnQgJDF9JyApCmt1YmVjdGwgLS1rdWJlY29uZmlnPVwke2t1YmVjb25maWd9IC1uIGNhdHRsZS1zeXN0ZW0gZ2V0IHNlY3JldCBcJHtjYXR0bGVfdG9rZW59IC1vIGpzb25wYXRoPXsuZGF0YS4nY2FcXC5jcnQnfQpgKSksbWR4KCJoMyIseyJpZCI6IjI1LeWcqC1sb2NhbC3pm4bnvqTkuK3mo4Dmn6XkuJrliqHpm4bnvqTnmoQtY2x1c3RlcnMtY3JkLei1hOa6kOaYr+WQpuacieabtOaWsCJ9LGAyLjUuIOWcqCBsb2NhbCDpm4bnvqTkuK3mo4Dmn6XkuJrliqHpm4bnvqTnmoQgY2x1c3RlcnMgY3JkIOi1hOa6kOaYr+WQpuacieabtOaWsGApLG1keCgicCIsbnVsbCxg5Zyo6YeN5bu6IEFnZW50IFBvZCDlkI7vvIxjbHVzdGVyIGFnZW50IOi/kOihjOi1t+adpeWQjuS8muiHquWKqOiOt+WPluaWsGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBjYXR0bGUtdG9rZW4teHh4YCksYOS4reeahGAsbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBjYWApLGDlkoxgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgdG9rZW5gKSxg5bm25LiK5oql57uZIHJhbmNoZXLvvIzlubbkv53lrZjlnKggY2x1c3RlcnMgY3JkIOi1hOa6kOS4reOAgmApLG1keCgicCIsbnVsbCxg5ZyoIGxvY2FsIOmbhue+pOS4reaJp+ihjOS7peS4i+WRveS7pOafpeeci+WvueW6lOmbhue+pOeahCBDUkQg6YWN572uIFlBTUwg5paH5Lu25LitYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHNlcnZpY2VBY2NvdW50VG9rZW5gKSxg5ZKMYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGNhQ2VydGApLGDmmK/lkKbmnInmm7TmlrDjgIJgKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWJhc2gifSksYGxvY2FsX2t1YmVjb25maWc9eHh4LnlhbWwKQ2x1c3Rlcl9JRD0gICAgICPmtY/op4jlmajlnLDlnYDmoI/mn6XnnIvpm4bnvqRJRAprdWJlY3RsIC0ta3ViZWNvbmZpZz1cJHtsb2NhbF9rdWJlY29uZmlnfSBnZXQgY2x1c3RlcnMgXCR7Q2x1c3Rlcl9JRH0gLW8geWFtbApgKSksbWR4KCJwIixudWxsLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgc2VydmljZUFjY291bnRUb2tlbmApLGDlr7nlupTkuIrpnaLmraXpqqTojrflj5bnmoRgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgdG9rZW5gKSxg77yMYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYGNhQ2VydGApLGDlr7nlupRgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgQ0FgKSxg6K+B5Lmm77yM5Y+v5Lul6YCa6L+H5a+55q+U5bel5YW35a+55q+U5LiA5LiL44CCYCksbWR4KCJibG9ja3F1b3RlIixudWxsLG1keCgicCIse3BhcmVudE5hbWU6ImJsb2NrcXVvdGUifSxg5bey55+l6Zeu6aKY77ya5Zyo55u45a+56ICB55qEIHJhbmNoZXIg54mI5pys5Lit77yM6Z2eIHJrZSDpm4bnvqTlj6/og73lh7rnjrBgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgY2FgKSxg5oiW6ICFYCxtZHgoImlubGluZUNvZGUiLHtwYXJlbnROYW1lOiJwIn0sYHRva2VuYCksYOacquiHquWKqOS4iuaKpeeahOmXrumimO+8jOWmguaenOWHuueOsOi1hOa6kOacquabtOaWsOmcgOaMieeFp+S7peS4i+atpemqpOaJi+WKqOS/ruaUueOAgmApKSxtZHgoInVsIixudWxsLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LGDlpIfku70gY3JkIGNsdXN0ZXJzIOi1hOa6kGApKSxtZHgoInByZSIsbnVsbCxtZHgoImNvZGUiLF9leHRlbmRzKHtwYXJlbnROYW1lOiJwcmUifSx7ImNsYXNzTmFtZSI6Imxhbmd1YWdlLWJhc2gifSksYGxvY2FsX2t1YmVjb25maWc9eHh4LnlhbWwKQ2x1c3Rlcl9JRD0gICAgICPmtY/op4jlmajlnLDlnYDmoI/mn6XnnIvpm4bnvqRJRAprdWJlY3RsIC0ta3ViZWNvbmZpZz1cJHtsb2NhbF9rdWJlY29uZmlnfSBnZXQgY2x1c3RlcnMgXCR7Q2x1c3Rlcl9JRH0gLW8geWFtbCA+IFwke0NsdXN0ZXJfSUR9LnlhbWwKYCkpLG1keCgidWwiLG51bGwsbWR4KCJsaSIse3BhcmVudE5hbWU6InVsIn0sbWR4KCJwIix7cGFyZW50TmFtZToibGkifSxg5L+u5pS5IGNyZCBjbHVzdGVycyDotYTmupBgKSxtZHgoInVsIix7cGFyZW50TmFtZToibGkifSxtZHgoImxpIix7cGFyZW50TmFtZToidWwifSxtZHgoInAiLHtwYXJlbnROYW1lOiJsaSJ9LG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgc2VydmljZUFjY291bnRUb2tlbmApLGDlrZfmrrXlj4LmlbDvvJrkvb/nlKjkuIrpnaLmraXpqqTkuK3ojrflj5bnmoRgLG1keCgiaW5saW5lQ29kZSIse3BhcmVudE5hbWU6InAifSxgdG9rZW5gKSxg5pu/5o2i77ybYCkpLG1keCgibGkiLHtwYXJlbnROYW1lOiJ1bCJ9LG1keCgicCIse3BhcmVudE5hbWU6ImxpIn0sbWR4KCJpbmxpbmVDb2RlIix7cGFyZW50TmFtZToicCJ9LGBjYUNlcnRgKSxg5a2X5q615Y+C5pWwOiDkvb/nlKjkuIrpnaLmraXpqqTojrflj5bnmoTmlrAgQ0Eg6K+B5Lmm5pu/5o2i77ybYCkpKSkpLG1keCgiaDIiLHsiaWQiOiIzLeW3suefpemXrumimCJ9LGAzLiDlt7Lnn6Xpl67pophgKSxtZHgoInAiLG51bGwsYOS4muWKoembhue+pOWNh+e6p+ivgeS5puW5tuaMieeFp+S7peS4iuatpemqpOaTjeS9nOWQju+8jOWPr+S7peato+W4uOi/m+WFpSBSYW5jaGVyIFVJ77yM5Lmf5Y+v5Lul5q2j5bi455qE6YOo572y5bqU55So77yM5L2G5piv5peg5rOV5p+l55yL5pel5b+X5ZKM5omn6KGMIHdlYiBzaGVsbCDnu4jnq6/jgIJgKSxtZHgoInAiLG51bGwsYOi/meaYr+WcqCBSYW5jaGVyIDIuMS54IOeJiOacrOS4reW3suefpemXrumimO+8jOWboOS4uuWcqOWGheWtmOS4reS/neWtmOedgOS4gOS7vSBDUkQg6LWE5rqQ5Ymv5pys77yMUmFuY2hlciDov5DooYzml7bkvb/nlKjnmoTlhoXlrZjkuK3nmoQgQ1JEIOi1hOa6kOOAguWcqOabtOaWsOS6hiBDUkQg6LWE5rqQ5ZCO77yMUmFuY2hlciDmsqHmnInmhJ/nn6XliLAgQ1JEIOi1hOa6kOWPmOWMlu+8jOS8muS4gOebtOS9v+eUqOWGheWtmOS4reeahCBDUkQg5Ymv5pys44CC5penIENSRCDlia/mnKzkv53lrZjnnYDml6fnmoQgQ0Eg6K+B5Lmm5ZKMIHRva2Vu77yM5LuO6ICM5a+86Ie0IEFnZW50IOaXoOazlei/nuaOpSBLOFMg6ZuG576k44CCYCksbWR4KCJwIixudWxsLGDnm67liY3mnInmlYjnmoTmlrnms5Xlj6rmnInph43lkK8gUmFuY2hlciBzZXJ2ZXIgcG9k44CCYCkpO307TURYQ29udGVudC5pc01EWENvbXBvbmVudD10cnVlOw=="},{"version":3,"sources":["/Users/zhen/Documents/doc-zhen/docs-rancher2/docs/rancher2/cluster-admin/replace-ca/_index.md"],"names":["React","mdx","frontMatter","title","description","keywords","metadata","rightToc","value","id","children","makeShortcode","name","MDXDefaultShortcode","props","console","warn","layoutProps","MDXLayout","MDXContent","components","isMDXComponent"],"mappings":"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","sourcesContent":["\n  import React from 'react';\n  import { mdx } from '@mdx-js/react';\n\n  export const frontMatter = {\n\ttitle: 'Import 集群更新 CA 证书后 Rancher 端所需操作配置',\n\tdescription: null,\n\tkeywords: [\n\t\t'rancher 2.0中文文档',\n\t\t'rancher 2.x 中文文档',\n\t\t'rancher中文',\n\t\t'rancher 2.0中文',\n\t\t'rancher2',\n\t\t'rancher教程',\n\t\t'rancher中国',\n\t\t'rancher 2.0',\n\t\t'rancher2.0 中文教程',\n\t\t'集群管理员指南',\n\t\t'集群访问控制',\n\t\t'Import集群更新ca证书后Rancher端所需操作配置'\n\t]\n};\nexport const metadata = {\n  \"id\": \"rancher2/cluster-admin/replace-ca/_index\",\n  \"title\": \"Import 集群更新 CA 证书后 Rancher 端所需操作配置\",\n  \"description\": \"## 1. Rancher 相关备份操作\",\n  \"source\": \"@site/docs/rancher2/cluster-admin/replace-ca/_index.md\",\n  \"permalink\": \"/docs/rancher2/cluster-admin/replace-ca/_index\",\n  \"editUrl\": \"https://github.com/cnrancher/docs-rancher2/edit/master/docs/rancher2/cluster-admin/replace-ca/_index.md\",\n  \"lastUpdatedBy\": \"Author\",\n  \"lastUpdatedAt\": 1539502055,\n  \"sidebar\": \"rancher2\",\n  \"previous\": {\n    \"title\": \"恢复 rkestate 状态文件\",\n    \"permalink\": \"/docs/rancher2/cluster-admin/restore-rkestate/_index\"\n  },\n  \"next\": {\n    \"title\": \"单节点迁移至 RKE HA\",\n    \"permalink\": \"/docs/rancher2/cluster-admin/single-to-ha/_index\"\n  }\n};\n  /* @jsx mdx */\n\nexport const rightToc = [{\n  value: '1. Rancher 相关备份操作',\n  id: '1-rancher-相关备份操作',\n  children: [{\n    value: '1.1. 单容器部署备份',\n    id: '11-单容器部署备份',\n    children: []\n  }, {\n    value: '1.2. HA 部署备份',\n    id: '12-ha-部署备份',\n    children: []\n  }]\n}, {\n  value: '2. 操作步骤',\n  id: '2-操作步骤',\n  children: [{\n    value: '2.1. 删除业务集群<code>cattle-system</code>命名空间中的<code>cattle-token-xxx</code>',\n    id: '21-删除业务集群cattle-system命名空间中的cattle-token-xxx',\n    children: []\n  }, {\n    value: '2.2. 重建 Agent Pod',\n    id: '22-重建-agent-pod',\n    children: []\n  }, {\n    value: '2.3. 获取<code>token</code>',\n    id: '23-获取token',\n    children: []\n  }, {\n    value: '2.4. 获取新的 CA 证书',\n    id: '24-获取新的-ca-证书',\n    children: []\n  }, {\n    value: '2.5. 在 local 集群中检查业务集群的 clusters crd 资源是否有更新',\n    id: '25-在-local-集群中检查业务集群的-clusters-crd-资源是否有更新',\n    children: []\n  }]\n}, {\n  value: '3. 已知问题',\n  id: '3-已知问题',\n  children: []\n}];\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  rightToc\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h2 {...{\n      \"id\": \"1-rancher-相关备份操作\"\n    }}>{`1. Rancher 相关备份操作`}</h2>\n    <h3 {...{\n      \"id\": \"11-单容器部署备份\"\n    }}>{`1.1. 单容器部署备份`}</h3>\n    <p>{`如果在`}<inlineCode parentName=\"p\">{`docker run`}</inlineCode>{`部署 Rancher 时，有通过`}<inlineCode parentName=\"p\">{`-v`}</inlineCode>{`把容器中`}<inlineCode parentName=\"p\">{`/var/lib/rancher`}</inlineCode>{`目录映射到主机上，那么此步骤可以跳过；`}</p>\n    <p>{`如果没有映射目录，那么需要执行以下步骤进行备份：`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`RANCHER_CONTAINER_ID=\ndocker exec -ti \\${RANCHER_CONTAINER_ID} tar zcvf /tmp/rancher-data-backup-<RANCHER_VERSION>-<DATE>.tar.gz /var/lib/rancher\ndocker cp \\${RANCHER_CONTAINER_ID}:/tmp/rancher-data-backup-<RANCHER_VERSION>-<DATE>.tar.gz .\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"12-ha-部署备份\"\n    }}>{`1.2. HA 部署备份`}</h3>\n    <p>{`指定 rke 配置文件进行 local 集群备份：`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`./rke_linux-amd64 etcd snapshot-save --name SNAPSHOT-201903xx.db --config cluster.yml\n`}</code></pre>\n    <p>{`RKE 会获取每个节点 etcd 的快照，并保存到每个节点的`}<inlineCode parentName=\"p\">{`/opt/rke/etcd-snapshots`}</inlineCode>{`目录下。`}</p>\n    <h2 {...{\n      \"id\": \"2-操作步骤\"\n    }}>{`2. 操作步骤`}</h2>\n    <p>{`升级完业务集群的证书之后，Rancher 中集群会报 x509 错误，需要执行以下步骤修复。`}</p>\n    <p>{`文件准备:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`kubeconfig`}</inlineCode>{`: 更新证书后的集群连接配置文件`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"21-删除业务集群cattle-system命名空间中的cattle-token-xxx\"\n    }}>{`2.1. 删除业务集群`}<inlineCode parentName=\"h3\">{`cattle-system`}</inlineCode>{`命名空间中的`}<inlineCode parentName=\"h3\">{`cattle-token-xxx`}</inlineCode></h3>\n    <p>{`通过以下命令删除`}<inlineCode parentName=\"p\">{`cattle-token-xxx`}</inlineCode>{`，它会基于最新的 CA 证书重新生成`}<inlineCode parentName=\"p\">{`cattle-token-xxx`}</inlineCode>{`。`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`kubeconfig=xxx.yaml\ncattle_token=$( kubectl --kubeconfig=\\${kubeconfig} -n cattle-system get secret | grep 'cattle-token-' | awk '{print $1}' )\nkubectl --kubeconfig=\\${kubeconfig} -n cattle-system delete secret \\${cattle_token}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"22-重建-agent-pod\"\n    }}>{`2.2. 重建 Agent Pod`}</h3>\n    <p>{`因为 Agent Pod 绑定了`}<inlineCode parentName=\"p\">{`SA`}</inlineCode>{`，而 SA 绑定了`}<inlineCode parentName=\"p\">{`secrets`}</inlineCode>{`，所以当删除`}<inlineCode parentName=\"p\">{`cattle-token-xxx`}</inlineCode>{`后需重建 Pod，以加载新的`}<inlineCode parentName=\"p\">{`secrets`}</inlineCode>{`。`}</p>\n    <p>{`执行以下命令批量删除 Agent Pod：`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`kubeconfig=xxx.yaml\nkubectl --kubeconfig=\\${kubeconfig} -n cattle-system get pod | grep -v 'NAME' | awk '{print $1}' | xargs kubectl --kubeconfig=\\${kubeconfig} -n cattle-system delete pod\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"23-获取token\"\n    }}>{`2.3. 获取`}<inlineCode parentName=\"h3\">{`token`}</inlineCode></h3>\n    <p>{`重新生成`}<inlineCode parentName=\"p\">{`cattle-token-xxx`}</inlineCode>{`之后，取值`}<inlineCode parentName=\"p\">{`token`}</inlineCode>{`并`}<inlineCode parentName=\"p\">{`base64 -d`}</inlineCode>{`解密后备用。`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`kubeconfig=xxx.yaml\ncattle_token=$( kubectl --kubeconfig=\\${kubeconfig} -n cattle-system get secret | grep 'cattle-token-' | awk '{print $1}' )\nkubectl --kubeconfig=\\${kubeconfig} -n cattle-system get secret \\${cattle_token} -o jsonpath={.data.token} | base64 -d\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"24-获取新的-ca-证书\"\n    }}>{`2.4. 获取新的 CA 证书`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`kubeconfig=xxx.yaml\ncattle_token=$( kubectl --kubeconfig=\\${kubeconfig} -n cattle-system get secret | grep 'cattle-token-' | awk '{print $1}' )\nkubectl --kubeconfig=\\${kubeconfig} -n cattle-system get secret \\${cattle_token} -o jsonpath={.data.'ca\\\\.crt'}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"25-在-local-集群中检查业务集群的-clusters-crd-资源是否有更新\"\n    }}>{`2.5. 在 local 集群中检查业务集群的 clusters crd 资源是否有更新`}</h3>\n    <p>{`在重建 Agent Pod 后，cluster agent 运行起来后会自动获取新`}<inlineCode parentName=\"p\">{`cattle-token-xxx`}</inlineCode>{`中的`}<inlineCode parentName=\"p\">{`ca`}</inlineCode>{`和`}<inlineCode parentName=\"p\">{`token`}</inlineCode>{`并上报给 rancher，并保存在 clusters crd 资源中。`}</p>\n    <p>{`在 local 集群中执行以下命令查看对应集群的 CRD 配置 YAML 文件中`}<inlineCode parentName=\"p\">{`serviceAccountToken`}</inlineCode>{`和`}<inlineCode parentName=\"p\">{`caCert`}</inlineCode>{`是否有更新。`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`local_kubeconfig=xxx.yaml\nCluster_ID=     #浏览器地址栏查看集群ID\nkubectl --kubeconfig=\\${local_kubeconfig} get clusters \\${Cluster_ID} -o yaml\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`serviceAccountToken`}</inlineCode>{`对应上面步骤获取的`}<inlineCode parentName=\"p\">{`token`}</inlineCode>{`，`}<inlineCode parentName=\"p\">{`caCert`}</inlineCode>{`对应`}<inlineCode parentName=\"p\">{`CA`}</inlineCode>{`证书，可以通过对比工具对比一下。`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`已知问题：在相对老的 rancher 版本中，非 rke 集群可能出现`}<inlineCode parentName=\"p\">{`ca`}</inlineCode>{`或者`}<inlineCode parentName=\"p\">{`token`}</inlineCode>{`未自动上报的问题，如果出现资源未更新需按照以下步骤手动修改。`}</p>\n    </blockquote>\n    <ul>\n      <li parentName=\"ul\">{`备份 crd clusters 资源`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`local_kubeconfig=xxx.yaml\nCluster_ID=     #浏览器地址栏查看集群ID\nkubectl --kubeconfig=\\${local_kubeconfig} get clusters \\${Cluster_ID} -o yaml > \\${Cluster_ID}.yaml\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`修改 crd clusters 资源`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\"><inlineCode parentName=\"p\">{`serviceAccountToken`}</inlineCode>{`字段参数：使用上面步骤中获取的`}<inlineCode parentName=\"p\">{`token`}</inlineCode>{`替换；`}</p>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\"><inlineCode parentName=\"p\">{`caCert`}</inlineCode>{`字段参数: 使用上面步骤获取的新 CA 证书替换；`}</p>\n          </li>\n        </ul>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"3-已知问题\"\n    }}>{`3. 已知问题`}</h2>\n    <p>{`业务集群升级证书并按照以上步骤操作后，可以正常进入 Rancher UI，也可以正常的部署应用，但是无法查看日志和执行 web shell 终端。`}</p>\n    <p>{`这是在 Rancher 2.1.x 版本中已知问题，因为在内存中保存着一份 CRD 资源副本，Rancher 运行时使用的内存中的 CRD 资源。在更新了 CRD 资源后，Rancher 没有感知到 CRD 资源变化，会一直使用内存中的 CRD 副本。旧 CRD 副本保存着旧的 CA 证书和 token，从而导致 Agent 无法连接 K8S 集群。`}</p>\n    <p>{`目前有效的方法只有重启 Rancher server pod。`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n  "]}]}